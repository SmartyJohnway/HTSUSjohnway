{
  "version": 3,
  "sources": ["../../app/TariffHTSUSearcher/netlify/functions/dataweb-proxy.ts"],
  "sourceRoot": "/tmp/tmp-3206-wtRo1looRBak",
  "sourcesContent": ["import type { Handler } from \"@netlify/functions\";\n\nexport const handler: Handler = async (event) => {\n  try {\n    const qs = event.queryStringParameters || {};\n    const url = new URL(\"https://datawebws.usitc.gov/dataweb/api/trade_data\");\n    for (const [k,v] of Object.entries(qs)) {\n      if (v !== undefined && v !== null) url.searchParams.set(k, String(v));\n    }\n\n    const r = await fetch(url.toString(), {\n      headers: {\n        \"Authorization\": `Bearer ${process.env.DATAWEB_API_TOKEN}`,\n        \"Accept\": \"application/json\"\n      },\n    });\n\n    const text = await r.text();\n    return {\n      statusCode: r.status,\n      headers: {\n        \"content-type\": r.headers.get(\"content-type\") || \"application/json\",\n        \"cache-control\": \"no-store\"\n      },\n      body: text\n    };\n  } catch (err) {\n    return {\n      statusCode: 500,\n      body: JSON.stringify({ error: String(err) })\n    };\n  }\n};\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEO,IAAM,UAAmB,OAAO,UAAU;AAC/C,MAAI;AACF,UAAM,KAAK,MAAM,yBAAyB,CAAC;AAC3C,UAAM,MAAM,IAAI,IAAI,oDAAoD;AACxE,eAAW,CAAC,GAAE,CAAC,KAAK,OAAO,QAAQ,EAAE,GAAG;AACtC,UAAI,MAAM,UAAa,MAAM,KAAM,KAAI,aAAa,IAAI,GAAG,OAAO,CAAC,CAAC;AAAA,IACtE;AAEA,UAAM,IAAI,MAAM,MAAM,IAAI,SAAS,GAAG;AAAA,MACpC,SAAS;AAAA,QACP,iBAAiB,UAAU,QAAQ,IAAI,iBAAiB;AAAA,QACxD,UAAU;AAAA,MACZ;AAAA,IACF,CAAC;AAED,UAAM,OAAO,MAAM,EAAE,KAAK;AAC1B,WAAO;AAAA,MACL,YAAY,EAAE;AAAA,MACd,SAAS;AAAA,QACP,gBAAgB,EAAE,QAAQ,IAAI,cAAc,KAAK;AAAA,QACjD,iBAAiB;AAAA,MACnB;AAAA,MACA,MAAM;AAAA,IACR;AAAA,EACF,SAAS,KAAK;AACZ,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,MAAM,KAAK,UAAU,EAAE,OAAO,OAAO,GAAG,EAAE,CAAC;AAAA,IAC7C;AAAA,EACF;AACF;",
  "names": []
}
